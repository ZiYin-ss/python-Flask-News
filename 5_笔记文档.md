#### 1,用户新闻列表获取

- 思路分析:
  - 1.获取参数
  - 2.校验参数,为空校验
  - 3.查询用户发布的新闻,分页
  - 5.获取分页对象数据
  - 6.携带数据返回页面展示



#### 2,详情页作者信息获取



#### 3,关注&取消关注实现

- 思路分析
  - 0.判断用户是否登陆
  - 1.获取参数
  - 2.校验参数,为空校验
  - 3.校验操作类型
  - 4.根据作者编号取出作者对象,判断作者对象是否存在
  - 5.根据操作类型,进行关注&取消关注
  - 6.返回响应



#### 4,关注,取消关注调试



#### 5,用户关注列表

- 实现思路
  - 1.获取参数
  - 2.参数类型转换
  - 3.分页查询用户关注的人
  - 4.取出分页对象的数据,总页数,当前页,当前页对象列表
  - 5.将对象列表转成字典列表
  - 6.拼接数据渲染页面



#### 6,404页面处理



#### 7,管理员蓝图创建



#### 8,管理员登陆

- 操作流程
  - 1.判断请求方式,如果是GET,直接渲染页面
  - 2.如果是POST请求,获取参数
  - 3.校验参数,为空校验
  - 4.根据用户名取出管理员对象,判断管理员是否存在
  - 5.判断管理员的密码是否正确
  - 6.管理的session信息记录
  - 7.重定向到首页展示



#### 9,管理员登陆页csrf_token设置



#### 10,管理员用户创建



#### 11,管理员首页展示



#### 12,普通用户访问管理员页



#### 13,普通用户访问管理员其他页



#### 14,flask内部csrf_token校验过程[记忆]

- 提交数据的方式有两种,'POST', 'PUT', 'PATCH', 'DELETE'
- 表单提交
  - 1.在浏览器中表单页面中,需要设置一个隐藏的csrf_token值 (我们自己设置的)
  - 2.在cookie中设置一个sessionID (服务器自己设置的)
  - 服务器校验过程:
    - 1.取出表单中的csrf_token(加密的),使用SECRET_KEY解密csrf_token,得到未加密的csrf_token
    - 2.根据sessionID解密出服务器空间中的csrf_token(未加密的)
    - 比较二者是否相等
- 非表单提交(ajax)
  - 1.在浏览器cookie中设置csrf_token,为了给请求头使用(headers里面的X-CSRFToken)
  - 2.在cookie中设置一个sessionID (服务器自己设置的)
  - 服务器校验过程:
    - 1.取出请求中的的csrf_token(加密的),使用SECRET_KEY解密csrf_token,得到未加密的csrf_token
    - 2.根据sessionID解密出服务器空间中的csrf_token(未加密的)
    - 比较二者是否相等



#### 15,图表总人数月活日活统计



#### 16,曲线图绘制



#### 17,注册用户列表



#### 18,新闻审核列表



#### 19,新闻审核列表模糊查询